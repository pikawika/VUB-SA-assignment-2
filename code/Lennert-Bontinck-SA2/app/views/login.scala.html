@(welcome: String, form: Form[models.User], postUrl: Call)(implicit session: Session, request: MessagesRequestHeader)

@* Use custom input fields, thanks to: https://stackoverflow.com/a/24729338 *@
@import input.inputTextWithIcon
@import helper.FieldConstructor
@implicitField = @{ FieldConstructor(inputTextWithIcon.f) }

@main(welcome, session) {
    @defining(play.core.PlayVersion.current) { version =>

        <div class="limiter">
            <div class="container-login100">
                <div class="wrap-login100">
                    <div class="login100-pic">
                        <img alt="CarLovers logo" src="@routes.Assets.versioned("images/logo.png")">
                    </div>

                    <div class="login100-form" id="user-login-form">
                        <span class="login100-form-title">
                            Login on CarLovers.be
                        </span>
                        <div class="text-center pb-20">
                            <a class="small-text" routerlink="/registreer" href="/registreer">
                                or register a free account
                                <i aria-hidden="true" class="fas fa-long-arrow-alt-right"></i>
                            </a>
                        </div>

                        @request.flash.data.map { case (name, value) =>
                        <div>@name: @value</div>
                        }

                        @* Global errors are not tied to any particular form field *@
                        @if(form.hasGlobalErrors) {
                            @form.globalErrors.map { error: FormError =>
                                <div>
                                    Error: @error.key: @error.message
                                </div>
                            }
                        }

                        @helper.form(postUrl, Symbol("id") -> "user-login-form") {
                            @helper.CSRF.formField
                            @helper.inputText(
                                form("username"),
                                Symbol("_label") -> "fa-envelope",
                                Symbol("placeholder") -> "Username or email",
                                Symbol("id") -> "username",
                                Symbol("class") -> "input100"
                            )
                            @helper.inputPassword(
                                form("password"),
                                Symbol("_label") -> "fa-lock",
                                Symbol("placeholder") -> "Password",
                                Symbol("id") -> "Password",
                                Symbol("class") -> "input100"
                            )

                            <div class="container-login100-form-btn not-allowed-force">
                                <button class="login100-form-btn" type="submit" value="Login">
                                    Login
                                </button>
                            </div>
                        </div>
                    }

                </div>
            </div>
        </div>
    }
}